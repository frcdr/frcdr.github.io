<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Green-API Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      textarea { resize: none; }
      .column { height: 100vh; overflow-y: auto; padding: 20px; }
    </style>
  </head>
  <body class="bg-light">

    <div class="container-fluid">
      <div class="row">
        <div class="col-md-6 column border-end">
          <div class="alert alert-info" role="alert" id="input-alert">
            Перед отправкой запросов вставьте эти параметры из инстанса в <a href="https://console.green-api.com/instanceList" target="_blank">личном кабинете</a>.
          </div>
          <div class="mb-3">
            <input type="text" class="form-control" id="idInstance" placeholder="idInstance" required>
          </div>
          <div class="mb-5">
            <input type="text" class="form-control" id="apiTokenInstance" placeholder="apiTokenInstance" required>
          </div>

          <button class="btn btn-primary w-100 mb-5" id="getSettings" disabled>getSettings</button>

          <button class="btn btn-secondary w-100 mb-5" id="getStateInstance" disabled>getStateInstance</button>

          <div class="alert alert-warning d-none" role="alert" id="chatIdMessageAlert">
            Возможно, формат chatId <a href="https://green-api.com/docs/api/chat-id/" target="_blank">неверен</a>.
          </div>
          <div class="mb-3">
            <input type="text" class="form-control" id="chatIdMessage" placeholder="chatId" required>
          </div>
          <div class="alert alert-danger d-none" role="alert" id="messageLengthAlert">
            Сообщения длиной более 20000 знаков могут <a href="https://green-api.com/docs/api/sending/SendMessage/#request-parameters" target="_blank">не дойти</a>.
          </div>
          <div class="mb-3">
            <textarea class="form-control" rows="3" id="message" placeholder="message" required></textarea>
          </div>
          <button class="btn btn-success w-100 mb-5" id="sendMessage" disabled>sendMessage</button>

          <div class="alert alert-warning d-none" role="alert" id="chatIdFileAlert">
            Возможно, формат chatId <a href="https://green-api.com/docs/api/chat-id/" target="_blank">неверен</a>.
          </div>
          <div class="mb-3">
            <input type="text" class="form-control" id="chatIdFile" placeholder="chatId" required>
          </div>
          <div class="alert alert-danger d-none" role="alert" id="fileSizeAlert">
            Файлы размером более 100 МБ могут <a href="https://green-api.com/docs/api/sending/SendFileByUrl/" target="_blank">не дойти</a>.
          </div>
          <div class="alert alert-warning d-none" role="alert" id="uploadFileNotReadyAlert">
            Заполните параметры idInstance и apiTokenInstance и повторите попытку.
          </div>
          <div class="alert alert-warning d-none" role="alert" id="uploadFileFailedAlert">
            Зависимый метод <a href="https://green-api.com/docs/api/sending/UploadFile/" target="_blank">uploadFile</a> вернул ошибку. Подробности в консоли разработчика.<br>Вы также можете <a href="https://green-api.com/docs/faq/how-to-send-file-by-sendFileByUrl-method-using-external-storage/" target="_blank">воспользоваться внешним хранилищем</a> для загрузки файла.
          </div>
          <div class="alert alert-success d-none" role="alert" id="uploadFileFinishedAlert">
            Файл успешно загружен!
          </div>
          <div class="mb-3">
            <label for="fileInput" class="form-label">Загрузите файл (использует <a href="https://green-api.com/docs/api/sending/UploadFile/" target="_blank">uploadFile</a>) или введите ссылку на файл:</label>
            <input type="file" class="form-control" id="fileInput">
          </div>
          <div class="mb-3">
            <input type="text" class="form-control" id="urlFile" placeholder="urlFile">
          </div>
          <div class="alert alert-warning d-none" id="url-alert" role="alert">
            Ссылка должна начинаться с http(s):// и не должна содержать ~$€%#£?!, а так же пробелов.
          </div>
          <button class="btn btn-info w-100" id="sendFileByUrl" disabled>sendFileByUrl</button>
        </div>

        <div class="col-md-6 column">
          <h2>Ответ</h2>
          <pre class="bg-white p-3 border rounded" id="response" style="height: calc(100% - 40px);"></pre>
        </div>
      </div>
    </div>

    <script src="script.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>

